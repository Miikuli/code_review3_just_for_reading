#include "graf.h" // Подключаем заголовочный файл с объявлениями функций для работы с графами
#include <iostream>   // Подключаем для ввода/вывода в консоль
#include <vector>     // Подключаем для использования векторов
#include <string>     // Подключаем для работы со строками

int main() {
    std::string filename; // Переменная для хранения имени файла, введенного пользователем
    std::cout << "Введите имя файла с матрицей смежности: "; // Запрашиваем у пользователя имя файла
    std::cin >> filename;                                   // Считываем имя файла, введенное пользователем

    int n;                                         // Переменная для хранения количества вершин графа
    std::vector<std::vector<int>> adjacencyMatrix; // Переменная для хранения матрицы смежности графа

    // Вызываем функцию для чтения матрицы смежности из файла.
    // Если чтение не удалось (функция вернула false), завершаем программу с кодом ошибки 1.
    if (!ReadAdjacencyMatrix(filename, n, adjacencyMatrix)) {
        return 1;
    }

    std::vector<int> degrees; // Вектор для хранения степеней вершин графа

    // Вызываем функцию для вычисления степеней вершин на основе прочитанной матрицы смежности.
    CalculateDegrees(n, adjacencyMatrix, degrees);

    std::cout << "Степени вершин графа (в порядке возрастания номеров вершин):" << std::endl;
    // Выводим степени каждой вершины в консоль. Номера вершин начинаются с 1, поэтому используем i + 1.
    for (int i = 0; i < n; ++i) {
        std::cout << "Степень вершины " << i + 1 << ": " << degrees[i] << std::endl;
    }

    return 0; // Программа завершилась успешно
}
